<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>GPFG Quiz - Norwegian Oil Fund Holdings Quiz</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="assets/css/style.css">
  
  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-content">
      <i data-lucide="trending-up" class="loading-icon"></i>
      <p>Loading portfolio data...</p>
    </div>
  </div>

  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <h1 class="title" id="title-clickable">
          GPFG Quiz
        </h1>
        <p class="subtitle">Norwegian Oil Fund Holdings Challenge</p>
      </div>
      
      <div class="header-right">
        <!-- Filter Controls -->
        <div class="filter-controls">
          <!-- Year Filter Button -->
          <button id="year-filter-btn" class="btn-filter" title="Filter by year">
            <span id="year-filter-text">All Years</span>
          </button>
          
          <!-- Category Selector -->
          <select id="category-select" class="select">
            <option value="all">All Categories</option>
            <option value="country">Country Quiz</option>
            <option value="industry">Industry Quiz</option>
            <option value="region">Region Quiz</option>
            <option value="year">Year Quiz</option>
            <option value="custom">Custom Quiz</option>
          </select>
          
          <!-- Apply Changes Button -->
          <button id="apply-settings-btn" class="btn-filter btn-apply">
            Apply
          </button>
        </div>
        
        <!-- ELO Display -->
        <div class="elo-display-header">
          <button id="show-elo-btn" class="elo-btn" title="View ELO Graph">
            <span id="elo-display-header">800</span>
          </button>
        </div>
        
        <!-- Theme Selector -->
        <div class="theme-selector">
          <button id="themeToggle" class="theme-btn" aria-label="Theme" aria-haspopup="true" aria-expanded="false">
            <span class="theme-icon-light">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg>
            </span>
            <span class="theme-icon-dark">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"></path></svg>
            </span>
            <span class="theme-icon-system">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="3" rx="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></svg>
            </span>
          </button>
          <div id="themeMenu" class="theme-menu hidden">
            <button class="theme-menu-item active" data-theme="light">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg>
              <span>Light</span>
            </button>
            <button class="theme-menu-item" data-theme="dark">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"></path></svg>
              <span>Dark</span>
            </button>
            <button class="theme-menu-item" data-theme="system">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="3" rx="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></svg>
              <span>System</span>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- Welcome Screen -->
      <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-content">
          <h2>Ready to Test Your Knowledge?</h2>
          <p>Test your knowledge of companies in the Norwegian Oil Fund portfolio</p>
          <div class="stats-grid">
            <div class="stat-card">
              <div>
                <span class="stat-value" id="total-companies">187,118</span>
                <span class="stat-label">Companies</span>
              </div>
            </div>
            <div class="stat-card">
              <div>
                <span class="stat-value">108</span>
                <span class="stat-label">Countries</span>
              </div>
            </div>
            <div class="stat-card">
              <div>
                <span class="stat-value">16</span>
                <span class="stat-label">Industries</span>
              </div>
            </div>
          </div>
          <button id="start-btn" class="btn btn-primary btn-large">
            Start Quiz
          </button>
        </div>
      </div>

      <!-- Quiz Screen -->
      <div id="quiz-screen" class="quiz-screen hidden">
        <div class="quiz-content">
          <!-- Stats Bar -->
          <div class="quiz-stats-bar">
            <div class="stat-item">
              <span>Correct: <strong id="correct-count">0</strong></span>
            </div>
            <div class="stat-item">
              <span>Answered: <strong id="answered-count">0</strong></span>
            </div>
            <div class="stat-item">
              <span>Total: <strong id="total-count">0</strong></span>
            </div>
            <div class="stat-item">
              <span>ELO: <strong id="elo-display">800</strong></span>
            </div>
          </div>

          <!-- Side-by-side layout -->
          <div class="quiz-layout">
            <!-- Left: Question & Options -->
            <div class="quiz-left">
              <div class="question-section">
                <p id="question-text" class="question-text">Which country is this company from?</p>
                
                <!-- Options -->
                <div id="options-container" class="options-container">
                  <!-- Options will be inserted here -->
                </div>

                <!-- Feedback -->
                <div id="feedback" class="feedback"></div>
              </div>
            </div>

            <!-- Right: Company Info -->
            <div class="quiz-right">
              <div class="company-card">
                <div class="company-header">
                  <h2 id="company-name" class="company-name">Loading...</h2>
                </div>
                <div class="company-details" id="company-details">
                  <!-- Company details will be inserted here -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- ELO Graph Modal -->
    <div id="elo-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>ELO Ranking History</h2>
          <button class="modal-close" id="close-elo-modal">
            <i data-lucide="x"></i>
          </button>
        </div>
        <div class="modal-body">
          <canvas id="elo-chart"></canvas>
        </div>
      </div>
    </div>

    <!-- Year Filter Modal -->
    <div id="year-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Filter by Year</h2>
          <button class="modal-close" id="close-year-modal">
            <i data-lucide="x"></i>
          </button>
        </div>
        <div class="modal-body">
          <p class="modal-description">Select one or more years to include in the quiz:</p>
          <div id="year-checkboxes" class="year-checkboxes">
            <!-- Year checkboxes will be inserted here -->
          </div>
          <div class="modal-actions">
            <button id="select-all-years" class="btn btn-secondary">Select All</button>
            <button id="deselect-all-years" class="btn btn-secondary">Deselect All</button>
          </div>
          <div class="modal-footer-actions">
            <button id="apply-year-filter" class="btn btn-primary">Apply</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Custom Quiz Modal -->
    <div id="custom-quiz-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Custom Quiz Builder</h2>
          <button class="modal-close" id="close-custom-quiz-modal">
            <i data-lucide="x"></i>
          </button>
        </div>
        <div class="modal-body">
          <p class="modal-description">Select multiple filters to create your perfect quiz:</p>
          
          <!-- Regions -->
          <div class="custom-filter-section">
            <h3 class="filter-section-title">Regions</h3>
            <div class="filter-checkboxes" id="region-checkboxes">
              <!-- Region checkboxes will be inserted here -->
            </div>
          </div>

          <!-- Countries -->
          <div class="custom-filter-section">
            <h3 class="filter-section-title">Countries</h3>
            <div class="filter-checkboxes" id="country-checkboxes">
              <!-- Country checkboxes will be inserted here -->
            </div>
          </div>

          <!-- Industries -->
          <div class="custom-filter-section">
            <h3 class="filter-section-title">Industries</h3>
            <div class="filter-checkboxes" id="industry-checkboxes">
              <!-- Industry checkboxes will be inserted here -->
            </div>
          </div>

          <!-- Years -->
          <div class="custom-filter-section">
            <h3 class="filter-section-title">Years</h3>
            <div class="filter-checkboxes" id="year-checkboxes-custom">
              <!-- Year checkboxes will be inserted here -->
            </div>
          </div>

          <div class="modal-actions">
            <button id="clear-all-custom-filters" class="btn btn-secondary">Clear All</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-column">
          <p class="footer-tagline">Learn everything about the world's biggest government pension fund</p>
          <p class="footer-description">The Government Pension Fund Global (GPFG) is Norway's sovereign wealth fund, managed by Norges Bank Investment Management (NBIM).</p>
        </div>
        <div class="footer-column">
          <p class="footer-disclaimer">This quiz uses publicly available data for informational and educational purposes only.</p>
        </div>
        <div class="footer-column">
          <div class="footer-links-vertical">
            <a href="https://www.regjeringen.no/en/topics/the-economy/the-government-pension-fund/id1441/" target="_blank" rel="noopener noreferrer">About GPFG</a>
            <a href="https://www.nbim.no/en/investments/all-investments/" target="_blank" rel="noopener noreferrer">All Investments</a>
            <a href="https://egil10.github.io/gpfg-quiz/" class="footer-link">GPFG Quiz</a>
            <a href="https://github.com/egil10/gpfg-quiz" target="_blank" rel="noopener noreferrer" class="footer-link">GitHub</a>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <script src="assets/js/script.js"></script>
  <script>
    // Initialize Lucide icons
    lucide.createIcons();
  </script>
</body>
</html>
